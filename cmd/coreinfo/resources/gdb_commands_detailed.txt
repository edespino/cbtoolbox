set pagination off
set print pretty on
set print object on
set print elements 0
set print array on
set print array-indexes on
set logging on gdb_detailed.log

echo \n\n=== Basic Crash Information ===\n\n
echo Current thread information:
info threads

echo \n\n=== Thread Backtraces with Local Variables ===\n\n
thread apply all bt full

echo \n\n=== Register State ===\n\n
info registers all
info all-registers

echo \n\n=== Signal Information ===\n\n
print $_siginfo
print $_siginfo._sifields._sigfault

echo \n\n=== Current Instruction Context ===\n\n
x/1i $pc
x/10i $pc-20

echo \n\n=== Memory Mappings ===\n\n
info proc mappings

echo \n\n=== Frame Analysis ===\n\n
info frame
info args
info locals
info catch
frame info

echo \n\n=== Source Information ===\n\n
info source
list

echo \n\n=== Function Information ===\n\n
info functions
info variables global
info variables local

echo \n\n=== Shared Libraries ===\n\n
info sharedlibrary
info dll

echo \n\n=== Stack Analysis ===\n\n
x/32x $sp
x/32x $bp

echo \n\n=== Thread Details ===\n\n
thread apply all thread
thread apply all info registers
thread apply all x/1i $pc

echo \n\n=== Binary Information ===\n\n
info target
maintenance info sections
maintenance check all

echo \n\n=== Symbol Information ===\n\n
info sources
info functions
info variables

set logging off
quit
